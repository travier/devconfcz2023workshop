resource "aws_instance" "instance" {
  ami           = "ami-016a79745fc97446a"
  instance_type = "m6i.4xlarge"
  key_name      = "travier"

  tags = {
    Name = "devconfcz2023workshop"
  }

  vpc_security_group_ids = [aws_security_group.sg.id]
  subnet_id              = aws_subnet.subnet_1.id

  root_block_device {
    volume_size = "100"
    volume_type = "gp3"
  }

  user_data_base64 = "eyJpZ25pdGlvbiI6eyJ2ZXJzaW9uIjoiMy4zLjAifSwicGFzc3dkIjp7InVzZXJzIjpbeyJuYW1lIjoibGFidXNlcjEiLCJwYXNzd29yZEhhc2giOiIkeSRqOVQkb2xxRW5VbzBJRGV2bExLZy44VGdLMCRKV0VWWm0yNUZIQS5MWWRXZ2NrSVF1VUxPUGhiTU1rLndRSngzblhVOXU2In0seyJuYW1lIjoibGFidXNlcjIiLCJwYXNzd29yZEhhc2giOiIkeSRqOVQkb2xxRW5VbzBJRGV2bExLZy44VGdLMCRKV0VWWm0yNUZIQS5MWWRXZ2NrSVF1VUxPUGhiTU1rLndRSngzblhVOXU2In0seyJuYW1lIjoibGFidXNlcjMiLCJwYXNzd29yZEhhc2giOiIkeSRqOVQkb2xxRW5VbzBJRGV2bExLZy44VGdLMCRKV0VWWm0yNUZIQS5MWWRXZ2NrSVF1VUxPUGhiTU1rLndRSngzblhVOXU2In0seyJuYW1lIjoibGFidXNlcjQiLCJwYXNzd29yZEhhc2giOiIkeSRqOVQkb2xxRW5VbzBJRGV2bExLZy44VGdLMCRKV0VWWm0yNUZIQS5MWWRXZ2NrSVF1VUxPUGhiTU1rLndRSngzblhVOXU2In0seyJuYW1lIjoibGFidXNlcjUiLCJwYXNzd29yZEhhc2giOiIkeSRqOVQkb2xxRW5VbzBJRGV2bExLZy44VGdLMCRKV0VWWm0yNUZIQS5MWWRXZ2NrSVF1VUxPUGhiTU1rLndRSngzblhVOXU2In0seyJuYW1lIjoibGFidXNlcjYiLCJwYXNzd29yZEhhc2giOiIkeSRqOVQkb2xxRW5VbzBJRGV2bExLZy44VGdLMCRKV0VWWm0yNUZIQS5MWWRXZ2NrSVF1VUxPUGhiTU1rLndRSngzblhVOXU2In0seyJuYW1lIjoibGFidXNlcjciLCJwYXNzd29yZEhhc2giOiIkeSRqOVQkb2xxRW5VbzBJRGV2bExLZy44VGdLMCRKV0VWWm0yNUZIQS5MWWRXZ2NrSVF1VUxPUGhiTU1rLndRSngzblhVOXU2In0seyJuYW1lIjoibGFidXNlcjgiLCJwYXNzd29yZEhhc2giOiIkeSRqOVQkb2xxRW5VbzBJRGV2bExLZy44VGdLMCRKV0VWWm0yNUZIQS5MWWRXZ2NrSVF1VUxPUGhiTU1rLndRSngzblhVOXU2In0seyJuYW1lIjoibGFidXNlcjkiLCJwYXNzd29yZEhhc2giOiIkeSRqOVQkb2xxRW5VbzBJRGV2bExLZy44VGdLMCRKV0VWWm0yNUZIQS5MWWRXZ2NrSVF1VUxPUGhiTU1rLndRSngzblhVOXU2In0seyJuYW1lIjoibGFidXNlcjEwIiwicGFzc3dvcmRIYXNoIjoiJHkkajlUJG9scUVuVW8wSURldmxMS2cuOFRnSzAkSldFVlptMjVGSEEuTFlkV2dja0lRdVVMT1BoYk1Nay53UUp4M25YVTl1NiJ9LHsibmFtZSI6ImxhYnVzZXIxMSIsInBhc3N3b3JkSGFzaCI6IiR5JGo5VCRvbHFFblVvMElEZXZsTEtnLjhUZ0swJEpXRVZabTI1RkhBLkxZZFdnY2tJUXVVTE9QaGJNTWsud1FKeDNuWFU5dTYifSx7Im5hbWUiOiJsYWJ1c2VyMTIiLCJwYXNzd29yZEhhc2giOiIkeSRqOVQkb2xxRW5VbzBJRGV2bExLZy44VGdLMCRKV0VWWm0yNUZIQS5MWWRXZ2NrSVF1VUxPUGhiTU1rLndRSngzblhVOXU2In0seyJuYW1lIjoibGFidXNlcjEzIiwicGFzc3dvcmRIYXNoIjoiJHkkajlUJG9scUVuVW8wSURldmxMS2cuOFRnSzAkSldFVlptMjVGSEEuTFlkV2dja0lRdVVMT1BoYk1Nay53UUp4M25YVTl1NiJ9LHsibmFtZSI6ImxhYnVzZXIxNCIsInBhc3N3b3JkSGFzaCI6IiR5JGo5VCRvbHFFblVvMElEZXZsTEtnLjhUZ0swJEpXRVZabTI1RkhBLkxZZFdnY2tJUXVVTE9QaGJNTWsud1FKeDNuWFU5dTYifSx7Im5hbWUiOiJsYWJ1c2VyMTUiLCJwYXNzd29yZEhhc2giOiIkeSRqOVQkb2xxRW5VbzBJRGV2bExLZy44VGdLMCRKV0VWWm0yNUZIQS5MWWRXZ2NrSVF1VUxPUGhiTU1rLndRSngzblhVOXU2In0seyJuYW1lIjoibGFidXNlcjE2IiwicGFzc3dvcmRIYXNoIjoiJHkkajlUJG9scUVuVW8wSURldmxMS2cuOFRnSzAkSldFVlptMjVGSEEuTFlkV2dja0lRdVVMT1BoYk1Nay53UUp4M25YVTl1NiJ9LHsibmFtZSI6ImxhYnVzZXIxNyIsInBhc3N3b3JkSGFzaCI6IiR5JGo5VCRvbHFFblVvMElEZXZsTEtnLjhUZ0swJEpXRVZabTI1RkhBLkxZZFdnY2tJUXVVTE9QaGJNTWsud1FKeDNuWFU5dTYifSx7Im5hbWUiOiJsYWJ1c2VyMTgiLCJwYXNzd29yZEhhc2giOiIkeSRqOVQkb2xxRW5VbzBJRGV2bExLZy44VGdLMCRKV0VWWm0yNUZIQS5MWWRXZ2NrSVF1VUxPUGhiTU1rLndRSngzblhVOXU2In0seyJuYW1lIjoibGFidXNlcjE5IiwicGFzc3dvcmRIYXNoIjoiJHkkajlUJG9scUVuVW8wSURldmxMS2cuOFRnSzAkSldFVlptMjVGSEEuTFlkV2dja0lRdVVMT1BoYk1Nay53UUp4M25YVTl1NiJ9XX0sInN0b3JhZ2UiOnsiZmlsZXMiOlt7InBhdGgiOiIvZXRjL3NzaC9zc2hkX2NvbmZpZy5kLzIwLWVuYWJsZS1wYXNzd29yZHMuY29uZiIsImNvbnRlbnRzIjp7ImNvbXByZXNzaW9uIjoiIiwic291cmNlIjoiZGF0YTosJTIzJTIwRmVkb3JhJTIwQ29yZU9TJTIwZGlzYWJsZXMlMjBTU0glMjBwYXNzd29yZCUyMGxvZ2luJTIwYnklMjBkZWZhdWx0LiUwQSUyMyUyMEVuYWJsZSUyMGl0LiUwQSUyMyUyMFRoaXMlMjBmaWxlJTIwbXVzdCUyMHNvcnQlMjBiZWZvcmUlMjA0MC1kaXNhYmxlLXBhc3N3b3Jkcy5jb25mLiUwQVBhc3N3b3JkQXV0aGVudGljYXRpb24lMjB5ZXMlMEEifSwibW9kZSI6NDIwfSx7InBhdGgiOiIvZXRjL3N5c3RlbWQvc3lzdGVtL3JwbS1vc3RyZWUtaW5zdGFsbC5zZXJ2aWNlLmQvcnBtcy5jb25mIiwiY29udGVudHMiOnsiY29tcHJlc3Npb24iOiIiLCJzb3VyY2UiOiJkYXRhOiwlNUJTZXJ2aWNlJTVEJTBBRW52aXJvbm1lbnQlM0RSUE1TJTNEJTIydmlydC1pbnN0YWxsJTIwbGlidmlydC1kYWVtb24ta3ZtJTIwbGlidmlydC1kYWVtb24tY29uZmlnLW5ldHdvcmslMjIlMEEifSwibW9kZSI6NDIwfSx7InBhdGgiOiIvdXNyL2xvY2FsL2Jpbi9idXRhbmUiLCJjb250ZW50cyI6eyJzb3VyY2UiOiJodHRwczovL2dpdGh1Yi5jb20vY29yZW9zL2J1dGFuZS9yZWxlYXNlcy9kb3dubG9hZC92MC4xOC4wL2J1dGFuZS14ODZfNjQtdW5rbm93bi1saW51eC1nbnUifSwibW9kZSI6NDkzfSx7InBhdGgiOiIvdXNyL2xvY2FsL2Jpbi9pZ25pdGlvbi12YWxpZGF0ZSIsImNvbnRlbnRzIjp7InNvdXJjZSI6Imh0dHBzOi8vZ2l0aHViLmNvbS9jb3Jlb3MvaWduaXRpb24vcmVsZWFzZXMvZG93bmxvYWQvdjIuMTUuMC9pZ25pdGlvbi12YWxpZGF0ZS14ODZfNjQtbGludXgifSwibW9kZSI6NDkzfSx7InBhdGgiOiIvc3J2L2ZlZG9yYS1jb3Jlb3MucWNvdzIueHoiLCJjb250ZW50cyI6eyJzb3VyY2UiOiJodHRwczovL2J1aWxkcy5jb3Jlb3MuZmVkb3JhcHJvamVjdC5vcmcvcHJvZC9zdHJlYW1zL3N0YWJsZS9idWlsZHMvMzguMjAyMzA1MTQuMy4wL3g4Nl82NC9mZWRvcmEtY29yZW9zLTM4LjIwMjMwNTE0LjMuMC1xZW11Lng4Nl82NC5xY293Mi54eiIsInZlcmlmaWNhdGlvbiI6eyJoYXNoIjoic2hhMjU2LWQ1YTBmZjA4ZmEzMWM2MTI4Y2U3N2FhOWVjODg4YzY4NTIwZGEyNzQwZDU1ZDE3Y2I1YTJhZDcyMmFhODk4NTcifX0sIm1vZGUiOjQyMH0seyJwYXRoIjoiL3Vzci9sb2NhbC9iaW4vc2V0dXAtdXNlcnMuc2giLCJjb250ZW50cyI6eyJjb21wcmVzc2lvbiI6Imd6aXAiLCJzb3VyY2UiOiJkYXRhOjtiYXNlNjQsSDRzSUFBQUFBQUFDLzNTT1FVNERNUXhGOXpuRloyRHJzY29PSWE3QUZWQ204VFFSSVI3c3BoMVU5ZTVJN1lZaTJENC9QLzM3TzU1SzR5bDZEaTU3a1BRVnBGaktJbk1zTmN4cVdGRWFUcHR4M0R5ZG41RTBBRUJwdm8rMWdtaG4ycGVYb2NhcHU5akRhVDBQSU5KakUvdE5FempyaC9BUHlsczFVYjgwYXdPN0hYaVdwQmJwZWhrL3QzcDgvUGZ4TC9rUzg1NFUxSEU3d1QzVHUzenRwSUZtOENIYU5YeGo4ZWlldWFRMzh3aDZ4VENFcEUzQ2R3QUFBUC8vTEtPK1FDNEJBQUE9In0sIm1vZGUiOjQ5M31dfSwic3lzdGVtZCI6eyJ1bml0cyI6W3siY29udGVudHMiOiJbVW5pdF1cbkRlc2NyaXB0aW9uPUxheWVyIGFkZGl0aW9uYWwgcnBtc1xuV2FudHM9bmV0d29yay1vbmxpbmUudGFyZ2V0XG5BZnRlcj1uZXR3b3JrLW9ubGluZS50YXJnZXRcbiMgV2UgcnVuIGJlZm9yZSBgemluY2F0aS5zZXJ2aWNlYCB0byBhdm9pZCBjb25mbGljdGluZyBycG0tb3N0cmVlIHRyYW5zYWN0aW9ucy5cbkJlZm9yZT16aW5jYXRpLnNlcnZpY2VcbkNvbmRpdGlvblBhdGhFeGlzdHM9IS92YXIvbGliLyVOLnN0YW1wXG5bU2VydmljZV1cblR5cGU9b25lc2hvdFxuUmVtYWluQWZ0ZXJFeGl0PXllc1xuRXhlY1N0YXJ0PS91c3IvYmluL3JwbS1vc3RyZWUgaW5zdGFsbCAtLWFwcGx5LWxpdmUgLS1hbGxvdy1pbmFjdGl2ZSAkUlBNU1xuRXhlY1N0YXJ0PXNlZCAtaSBzLzE5Mi4xNjguMTIyLzE5Mi4xNjguMTI0L2cgL2V0Yy9saWJ2aXJ0L3FlbXUvbmV0d29ya3MvZGVmYXVsdC54bWwgXG5FeGVjU3RhcnQ9c3lzdGVtY3RsIGVuYWJsZSAtLW5vdyB2aXJ0bmV0d29ya2Quc2VydmljZSBsaWJ2aXJ0ZC5zb2NrZXRcbkV4ZWNTdGFydD0vYmluL3RvdWNoIC92YXIvbGliLyVOLnN0YW1wXG5bSW5zdGFsbF1cbldhbnRlZEJ5PW11bHRpLXVzZXIudGFyZ2V0XG4iLCJlbmFibGVkIjp0cnVlLCJuYW1lIjoicnBtLW9zdHJlZS1pbnN0YWxsLnNlcnZpY2UifSx7ImNvbnRlbnRzIjoiW1VuaXRdXG5EZXNjcmlwdGlvbj1TZXR1cCB0aGUgcWNvdyBpbWFnZVxuQ29uZGl0aW9uUGF0aEV4aXN0cz0hL3Zhci9saWIvJU4uc3RhbXBcbltTZXJ2aWNlXVxuVHlwZT1vbmVzaG90XG5SZW1haW5BZnRlckV4aXQ9eWVzXG5FeGVjU3RhcnQ9dW54eiAvc3J2L2ZlZG9yYS1jb3Jlb3MucWNvdzIueHpcbkV4ZWNTdGFydD1jaG1vZCA0NDQgL3Nydi9mZWRvcmEtY29yZW9zLnFjb3cyXG5FeGVjU3RhcnQ9L2Jpbi90b3VjaCAvdmFyL2xpYi8lTi5zdGFtcFxuW0luc3RhbGxdXG5XYW50ZWRCeT1tdWx0aS11c2VyLnRhcmdldFxuIiwiZW5hYmxlZCI6dHJ1ZSwibmFtZSI6InNldHVwLXFjb3cuc2VydmljZSJ9LHsiY29udGVudHMiOiJbVW5pdF1cbkRlc2NyaXB0aW9uPVNldHVwIHRoZSB1c2Vyc1xuQ29uZGl0aW9uUGF0aEV4aXN0cz0hL3Zhci9saWIvJU4uc3RhbXBcbkFmdGVyPXNldHVwLXFjb3cuc2VydmljZVxuQWZ0ZXI9cnBtLW9zdHJlZS1pbnN0YWxsLnNlcnZpY2VcbltTZXJ2aWNlXVxuVHlwZT1vbmVzaG90XG5SZW1haW5BZnRlckV4aXQ9eWVzXG5FeGVjU3RhcnQ9L3Vzci9sb2NhbC9iaW4vc2V0dXAtdXNlcnMuc2hcbkV4ZWNTdGFydD1jaGF0dHIgK2kgL3Nydi9mZWRvcmEtY29yZW9zLnFjb3cyXG5FeGVjU3RhcnQ9L2Jpbi90b3VjaCAvdmFyL2xpYi8lTi5zdGFtcFxuW0luc3RhbGxdXG5XYW50ZWRCeT1tdWx0aS11c2VyLnRhcmdldFxuIiwiZW5hYmxlZCI6dHJ1ZSwibmFtZSI6InNldHVwLXVzZXJzLnNlcnZpY2UifV19fQo="
}
